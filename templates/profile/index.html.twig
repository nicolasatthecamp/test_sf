{% extends 'base.html.twig' %}

{% block title %}Mon Profil{% endblock %}

{% block body %}
<div style="max-width: 600px; margin: 0 auto; padding: 2rem; font-family: Arial, sans-serif;">
    <header style="text-align: center; margin-bottom: 3rem;">
        <h1 style="color: #2c3e50; font-size: 2.5rem; margin-bottom: 1rem;">
            üë§ Mon Profil
        </h1>
        <p style="color: #7f8c8d; font-size: 1.1rem;">
            G√©rez vos informations personnelles
        </p>
    </header>

    <!-- Messages flash -->
    {% for message in app.flashes('success') %}
        <div style="background: #2ecc71; color: white; padding: 1rem; border-radius: 5px; margin-bottom: 1.5rem; text-align: center;">
            ‚úÖ {{ message }}
        </div>
    {% endfor %}

    {% for message in app.flashes('error') %}
        <div style="background: #e74c3c; color: white; padding: 1rem; border-radius: 5px; margin-bottom: 1.5rem; text-align: center;">
            ‚ùå {{ message }}
        </div>
    {% endfor %}

    <div style="background: #f8f9fa; padding: 2rem; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
        {{ form_start(form) }}
        
        <div style="margin-bottom: 2rem;">
            {{ form_label(form.firstname, null, {
                'label_attr': {
                    'style': 'display: block; margin-bottom: 0.5rem; color: #2c3e50; font-weight: bold;'
                }
            }) }}
            {{ form_widget(form.firstname, {
                'attr': {
                    'style': 'width: 100%; padding: 0.75rem; border: 2px solid #bdc3c7; border-radius: 5px; font-size: 1rem; box-sizing: border-box;'
                }
            }) }}
            {{ form_errors(form.firstname) }}
            <small style="color: #7f8c8d; font-size: 0.9rem; margin-top: 0.25rem; display: block;">
                Ce champ est optionnel
            </small>
        </div>

        {{ form_widget(form.submit, {
            'attr': {
                'style': 'width: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 0.75rem; border: none; border-radius: 5px; font-size: 1.1rem; font-weight: bold; cursor: pointer; margin-bottom: 1.5rem;'
            }
        }) }}

        {{ form_end(form) }}
    </div>

    <!-- Informations actuelles -->
    <div style="background: #e8f5e8; padding: 1.5rem; border-radius: 8px; margin-top: 2rem; border-left: 4px solid #27ae60;">
        <h3 style="color: #27ae60; margin-top: 0; font-size: 1.1rem;">üìã Informations actuelles</h3>
        <p style="color: #2c3e50; margin-bottom: 0.5rem; font-size: 0.9rem;">
            <strong>Email :</strong> {{ user.email }}<br>
            <strong>Pr√©nom :</strong> {{ user.firstname ? user.firstname : 'Non renseign√©' }}<br>
            <strong>R√¥les :</strong> {{ user.roles|join(', ') }}
        </p>
    </div>

    <!-- Navigation -->
    <div style="text-align: center; margin-top: 2rem;">
        <a href="{{ path('app_default') }}" 
           style="color: #3498db; text-decoration: none; font-weight: bold; margin-right: 2rem;">
            üè† Retour √† l'accueil
        </a>
        <a href="{{ path('app_logout') }}" 
           style="color: #e74c3c; text-decoration: none; font-weight: bold;">
            üö™ Se d√©connecter
        </a>
    </div>
</div>
{% endblock %}
